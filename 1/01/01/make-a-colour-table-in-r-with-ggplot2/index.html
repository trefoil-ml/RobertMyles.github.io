


    




<!DOCTYPE HTML>

<html>
    <head>
        
            <title>Make a colour table in R with ggplot2 - Lithium Theme</title>
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.16" />
        


        
        
            
                <meta name="description" content="A website built through Hugo and blogdown.">
            
        

        

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:title" content="Make a colour table in R with ggplot2"/>
<meta name="twitter:description" content="I loved this R script from hdugan when I first saw it a while ago. The script makes a 2-page pdf of all the colors available in R, using R. Nice. The other day, I thought about making a tidyverse version of it, using dplyr to get the data ready and ggplot2 to visualize it. I won&rsquo;t for a second pretend that this code is as short and tidy as the original, and in fact it may be a good example of when base R can be really useful, but anyway here it is."/>



        <meta property="og:title" content="Make a colour table in R with ggplot2" />
<meta property="og:description" content="I loved this R script from hdugan when I first saw it a while ago. The script makes a 2-page pdf of all the colors available in R, using R. Nice. The other day, I thought about making a tidyverse version of it, using dplyr to get the data ready and ggplot2 to visualize it. I won&rsquo;t for a second pretend that this code is as short and tidy as the original, and in fact it may be a good example of when base R can be really useful, but anyway here it is." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/1/01/01/make-a-colour-table-in-r-with-ggplot2/" />













        
<meta itemprop="name" content="Make a colour table in R with ggplot2">
<meta itemprop="description" content="I loved this R script from hdugan when I first saw it a while ago. The script makes a 2-page pdf of all the colors available in R, using R. Nice. The other day, I thought about making a tidyverse version of it, using dplyr to get the data ready and ggplot2 to visualize it. I won&rsquo;t for a second pretend that this code is as short and tidy as the original, and in fact it may be a good example of when base R can be really useful, but anyway here it is.">



<meta itemprop="wordCount" content="631">



<meta itemprop="keywords" content="blog,r,bayes,bayesian,bayesian-statistics,brazil,electionsbr,eu,european-statistics-day,geo-referencing,ggplot2,ideal-points,irt,jags,plot,r,r-markdown,regression,rotten-tomatoes,rselenium,rstan,rstudio,rvest,stan,tidyverse,webscraping," />

        

        

        
        
            
        

        
        
            <link rel="stylesheet" href="../../../../css/google-font.css" />
            <link rel="stylesheet" href="../../../../css/font-awesome.min.css" />
            <link rel="stylesheet" href="../../../../css/main.css" />
            <link rel="stylesheet" href="../../../../css/add-on.css" />
            <link rel="stylesheet" href="../../../../css/monokai-sublime.css">
        

        

        
        
        
            
        
    </head>
    <body>

        
        <div id="wrapper">

    
<header id="header">
    
        <h2><a href="../../../../"></i></a></h2>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="../../../../about/">
                        About
                    </a>
                </li>
            
                <li>
                    <a href="https://github.com/rstudio/blogdown">
                        GitHub
                    </a>
                </li>
            
                <li>
                    <a href="https://twitter.com/rstudio">
                        Twitter
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="../../../../about/">
                            <h3>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/rstudio/blogdown">
                            <h3>
                                
                                GitHub
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://twitter.com/rstudio">
                            <h3>
                                
                                Twitter
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="../../../../2017/02/01/stan/"><p>Stan</p></a>
                    </li>
                
                    <li>
                        <a href="../../../../2016/12/30/a-plain-markdown-post/"><p>A Plain Markdown Post</p></a>
                    </li>
                
                    <li>
                        <a href="../../../../2015/07/23/hello-r-markdown/"><p>Hello R Markdown</p></a>
                    </li>
                
                    <li>
                        <a href="../../../../1/01/01/bayesian-irt-in-r-and-stan/"><p>Bayesian IRT in R and Stan</p></a>
                    </li>
                
                    <li>
                        <a href="../../../../1/01/01/bayesian-stats----book-recommendations/"><p>Bayesian Stats -- Book Recommendations</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    
    <div id="main">
        <article class="post">
            
            <header>
    <div class="title">
        
            <h1><a href="../../../../1/01/01/make-a-colour-table-in-r-with-ggplot2/">Make a colour table in R with ggplot2</a></h1>
            
        
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='0001-01-01'>
            January 1, 0001</time>
        <span class="author"></span>
        
        
    </div>
</header>

            <div id="content">
                

<p>I loved <a href="https://github.com/hdugan/rColorTable/blob/master/rColorTable.R">this</a> R script from hdugan when I first saw it a while ago. The script makes a 2-page pdf of all the colors available in R, using R. Nice.</p>

<p>The other day, I thought about making a tidyverse version of it, using dplyr to get the data ready and ggplot2 to visualize it. I won&rsquo;t for a second pretend that this code is as short and tidy as the original, and in fact it may be a good example of when base R can be really useful, but anyway here it is. (The pdf it produces follows.) The table shows all the colours available in R, from the base colour on the left hand side, and then a scale of increasingly darker hues (from 1 to 4) for colours that have them. The basic idea was to create six plots and place them side by side using <code>cowplot::plot_grid()</code>. (<code>grid.arrange()</code> from the gridExtra package was a little less customizable.) So here you go: a tidyverse R Colour Table. (Using RColorBrewer you could add some purdy palette extensions). It&rsquo;s a one-page pdf, you could split into smaller images by subsetting the data and so on.</p>

<p>{% highlight r %}</p>

<h1 id="r-colors-minus-100-shades-of-grey">R colors minus 100 shades of grey</h1>

<p>library(stringr)
library(tidyverse)</p>

<h1 id="get-data">get &lsquo;data&rsquo;:</h1>

<p>colour &lt;- data_frame(colours = colors()) %&gt;%
  filter(!grepl(&ldquo;gray&rdquo;, colours),
         !grepl(&ldquo;grey&rdquo;, colours)) %&gt;%
  mutate(general_colour = gsub(&rdquo;[0-9]&ldquo;, &ldquo;&rdquo;, colours),
         c1 = ifelse(grepl(&ldquo;1&rdquo;, colours), 1, 0),
         c2 = ifelse(grepl(&ldquo;2&rdquo;, colours), 1, 0),
         c3 = ifelse(grepl(&ldquo;3&rdquo;, colours), 1, 0),
         c4 = ifelse(grepl(&ldquo;4&rdquo;, colours), 1, 0)) %&gt;%
  select(-1) %&gt;%
  group_by(general_colour) %&gt;%
  summarise_each(funs(sum)) %&gt;%
  ungroup() %&gt;%
  mutate(c1 = ifelse(grepl(1, c1), paste0(general_colour, c1), NA),
         c2 = ifelse(grepl(1, c2), paste0(general_colour, &ldquo;2&rdquo;), NA),
         c3 = ifelse(grepl(1, c3), paste0(general_colour, &ldquo;3&rdquo;), NA),
         c4 = ifelse(grepl(1, c4), paste0(general_colour, &ldquo;4&rdquo;), NA),
         c1 = ifelse(is.na(c1), general_colour, c1),
         c2 = ifelse(is.na(c2), general_colour, c2),
         c3 = ifelse(is.na(c3), general_colour, c3),
         c4 = ifelse(is.na(c4), general_colour, c4))</p>

<h2 id="create-six-plots">create six plots:</h2>

<h1 id="just-the-names-by-setting-alpha-to-0">Just the names, by setting alpha to 0:</h1>

<p>g0 &lt;- ggplot(colour, aes(x = general_colour)) +
  geom_bar(position = &ldquo;stack&rdquo;, alpha = 0) +
  coord_flip() +
  theme_minimal() +
  theme(legend.position = &ldquo;none&rdquo;) +
  theme(axis.text.x = element_blank(), axis.ticks.x = element_blank(),
        axis.title.x = element_blank(), panel.grid = element_blank(),
        axis.title.y = element_blank())</p>

<p>g &lt;- ggplot(colour, aes(x = general_colour, color = general_colour,
                   fill = general_colour)) +
  geom_bar(position = &ldquo;stack&rdquo;) +
  coord_flip() +
  scale_color_manual(values = colour$general_colour) +
  scale_fill_manual(values = colour$general_colour) +
  theme_minimal() +
  theme(legend.position = &ldquo;none&rdquo;) +
  theme(axis.text = element_blank(), axis.ticks = element_blank(),
        axis.title = element_blank(), panel.grid = element_blank())</p>

<p>g_1 &lt;- ggplot(colour, aes(x = c1, color = c1,
                        fill = c1)) +
  geom_bar(position = &ldquo;stack&rdquo;) +
  coord_flip() +
  scale_color_manual(values = colour$c1) +
  scale_fill_manual(values = colour$c1) +
  theme_minimal() +
  theme(legend.position = &ldquo;none&rdquo;) +
  theme(axis.text = element_blank(), axis.ticks = element_blank(),
        axis.title = element_blank(), panel.grid = element_blank())</p>

<p>g_2 &lt;- ggplot(colour, aes(x = c2, color = c2,
                        fill = c2)) +
  geom_bar(position = &ldquo;stack&rdquo;) +
  coord_flip() +
  scale_color_manual(values = colour$c2) +
  scale_fill_manual(values = colour$c2) +
  theme_minimal() +
  theme(legend.position = &ldquo;none&rdquo;) +
  theme(axis.text = element_blank(), axis.ticks = element_blank(),
        axis.title = element_blank(), panel.grid = element_blank())</p>

<p>g_3 &lt;- ggplot(colour, aes(x = c3, color = c3,
                        fill = c3)) +
  geom_bar(position = &ldquo;stack&rdquo;) +
  coord_flip() +
  scale_color_manual(values = colour$c3) +
  scale_fill_manual(values = colour$c3) +
  theme_minimal() +
  theme(legend.position = &ldquo;none&rdquo;) +
  theme(axis.text = element_blank(), axis.ticks = element_blank(),
        axis.title = element_blank(), panel.grid = element_blank())</p>

<p>g_4 &lt;- ggplot(colour, aes(x = c4, color = c4,
                        fill = c4)) +
  geom_bar(position = &ldquo;stack&rdquo;) +
  coord_flip() +
  scale_color_manual(values = colour$c4) +
  scale_fill_manual(values = colour$c4) +
  theme_minimal() +
  theme(legend.position = &ldquo;none&rdquo;) +
  theme(axis.text = element_blank(), axis.ticks = element_blank(),
        axis.title = element_blank(), panel.grid = element_blank())</p>

<p>library(cowplot)</p>

<h1 id="here-i-create-a-pdf-but-you-can-just-as-easily-create-a">Here I create a pdf, but you can just as easily create a</h1>

<h1 id="png-or-a-jpeg">png or a jpeg.</h1>

<p>pdf(file = &ldquo;color_chart_dplyr.pdf&rdquo;, height = 35, width = 8)
plot_grid(g0, g, g_1, g_2, g_3, g_4, align = &ldquo;h&rdquo;, ncol = 6,
          rel_widths = c(.75, 1.05, 1.05, 1.05, 1.05, 1.05))
dev.off()
{% endhighlight %}</p>

<p><img src = "http://i.imgur.com/JVXhXyj.png"></p>

            </div>
        </article>
    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
            
            <ul class="icons">
                
                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <h3><a href="../../../../2017/02/01/stan/">Stan</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2017-02-01'>
                                    February 1, 2017</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="../../../../2016/12/30/a-plain-markdown-post/">A Plain Markdown Post</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2016-12-30'>
                                    December 30, 2016</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="../../../../2015/07/23/hello-r-markdown/">Hello R Markdown</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2015-07-23'>
                                    July 23, 2015</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="../../../../1/01/01/bayesian-irt-in-r-and-stan/">Bayesian IRT in R and Stan</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '0001-01-01'>
                                    January 1, 0001</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="../../../../1/01/01/bayesian-stats----book-recommendations/">Bayesian Stats -- Book Recommendations</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '0001-01-01'>
                                    January 1, 0001</time>
                            </header>
                        </article>
                    </li>
                

                
                    <li>
                        <ul class="actions">
                            <li><a href=
                            
                                "/post/"
                            
                            class="button">View more posts</a></li>
                        </ul>
                    </li>
                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="../../../../categories/">Categories</a></h3>
                </header>

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <a href="../../../../categories/blog/">blog</a>
                                <span style="float:right;">14</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="../../../../categories/r/">r</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
            </ul>
        </section>
    

    
        

    
        <section id="footer">
            <ul class="icons">
                
                
            </ul>

            <p class="copyright">&copy; Lithium Theme. Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a>. Ported by <a href="//github.com/jpescador" target="_blank">Julio Pescador</a>. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        
            <script src="../../../../js/jquery.min.js"></script>
            <script src="../../../../js/skel.min.js"></script>
            <script src="../../../../js/util.js"></script>
            <script src="../../../../js/main.js"></script>
            <script src="../../../../js/backToTop.js"></script>
            <script src="../../../../js/highlight.pack.js"></script>
        

        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

